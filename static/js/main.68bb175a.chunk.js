(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{17:function(e,t,o){e.exports=o(27)},22:function(e,t,o){},27:function(e,t,o){"use strict";o.r(t);var a=o(0),c=o.n(a),n=o(14),d=o.n(n),l=(o(22),o(15)),r=o(1),i=o(5),s=o(28),u=o(7),m=o.n(u);o(23);m.a.initializeApp({apiKey:"AIzaSyBBDasXixm2a6aIayZMdLKQpSf8x2PETJI",authDomain:"todolist-dac5f.firebaseapp.com",databaseURL:"https://todolist-dac5f.firebaseio.com",projectId:"todolist-dac5f",storageBucket:"todolist-dac5f.appspot.com",messagingSenderId:"982083472438",appId:"1:982083472438:web:76a23069a7c21f98e55c97",measurementId:"G-MH5DR3KX7V"});var p=m.a,f=o(8),b=Object(a.createContext)();function v(e){var t=Object(a.useState)({task:""}),o=Object(f.a)(t,2),n=o[0],d=o[1],l=Object(a.useState)([]),r=Object(f.a)(l,2),i=r[0],s=r[1];return c.a.createElement(b.Provider,{value:{todo:n,setTodo:d,todos:i,setTodos:s}},e.children)}var g=function(e){return c.a.createElement("div",{className:"Todo"},c.a.createElement("p",{className:e.completed?"completed":"",onClick:function(t){console.log("toggle"),console.log(e.id),console.log(e.docId),e.toggleCompleted(e.id)}},e.task),c.a.createElement("button",{onClick:function(){console.log(e.id),console.log(e.docId),e.removeTodo(e.docId)}},"X"))};var j=function(e){var t=Object(a.useContext)(b),o=t.todo,n=t.setTodo;function d(e){var t;n((t={},Object(r.a)(t,e.target.name,e.target.value),Object(r.a)(t,"id",Object(s.a)()),Object(r.a)(t,"completed",!1),Object(r.a)(t,"date",(new Date).toLocaleString("en-US")),t))}return c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.submit(o),n({task:""})}},c.a.createElement("label",{htmlFor:"task"}),c.a.createElement("input",{type:"text",placeholder:"add task",id:"task",name:"task",onChange:d,onClick:d,value:o.task,required:!0}),c.a.createElement("button",null,"Add Todo"))};var E=function(){var e=Object(a.useContext)(b),t=e.setTodo,o=e.todos,n=e.setTodos;function d(e){n(o.filter((function(t){return t.docId!==e}))),p.firestore().collection("Todos").doc(e).delete()}function u(e){var t=o.map((function(t){return t.id===e?(console.log(t),p.firestore().collection("Todos").doc(t.docId).update({"todo.completed":!t.completed}),Object(i.a)(Object(i.a)({},t),{},{completed:!t.completed})):t}));n(t)}return Object(a.useEffect)((function(){p.firestore().collection("Todos").orderBy("todo.date").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(i.a)({docId:e.id},e.data().todo)}));n(t)}))}),[]),c.a.createElement("div",{className:"TodoList"},c.a.createElement("h1",null,"Todo List"),c.a.createElement(j,{change:function(e){var o;t((o={},Object(r.a)(o,e.target.name,e.target.value),Object(r.a)(o,"id",Object(s.a)()),Object(r.a)(o,"completed",!1),o))},submit:function(e){n([].concat(Object(l.a)(o),[e])),p.firestore().collection("Todos").add({todo:e})}}),c.a.createElement("div",null,o.map((function(e){return c.a.createElement(g,{task:e.task,key:e.id,id:e.id,docId:e.docId,removeTodo:d,completed:e.completed,toggleCompleted:u,date:e.date})}))))};var O=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(v,null,c.a.createElement(E,null)))};d.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.68bb175a.chunk.js.map